(this["webpackJsonporiginal-code"]=this["webpackJsonporiginal-code"]||[]).push([[0],{1600:function(e,t,n){},1601:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(22),c=n.n(o),i=n(13),a=n(1645),s=n(1643),u=n(87),l=n.n(u),d=n(24),j=n(31),b=n(43),f=n.n(b),h=(n(107),function(e){var t=f()(e),n=f()(new Date);return f.a.duration(-n.diff(t)).locale("ru").humanize(!0)}),v=n(2),O=function(e){var t=e.openPopover,n=function(e){return e.filter((function(e){return!1===e.read})).length}(Object(d.c)((function(e){return e})).notes);return Object(v.jsx)("div",{className:"navbar",children:Object(v.jsx)("div",{className:"navbar_button",children:Object(v.jsx)(a.a,{size:"large","aria-label":"show 17 new notifications",color:"inherit",onClick:t,children:Object(v.jsx)(s.a,{badgeContent:n,color:"error",children:Object(v.jsx)(l.a,{})})})})})},p=n(1641),x=n(1646),m=function(){var e=Object(r.useState)(window.innerWidth),t=Object(i.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var e=function(){return o(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n},N=n(16),k=n(51),w=Object(k.b)({name:"notes",initialState:{notes:[{id:1,text:"drink coffee",read:!1,birth:"7-05-2010"},{id:2,text:"walking in the street",read:!0,birth:"1-01-2021"},{id:3,text:"by tv set",read:!1,birth:"10-1-2021"}]},reducers:{addNote:function(e,t){var n={id:Date.now(),text:t.payload,read:!1,birth:Date.now()};e.notes.push(n)},deleteNotes:function(e){e.notes=[]},markReadNotes:function(e){e.notes=e.notes.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{read:!0})}))},markReadNote:function(e,t){var n=e.notes.findIndex((function(e){return e.id===t.payload})),r=e.notes[n];e.notes=[].concat(Object(N.a)(e.notes.slice(0,n)),[Object(j.a)(Object(j.a)({},r),{},{read:!0})],Object(N.a)(e.notes.slice(n+1)))}}}),g=w.actions,C=g.addNote,P=g.deleteNotes,E=g.markReadNotes,y=g.markReadNote,R=w.reducer,D=function(){var e=Object(d.b)();return{deleteAllNotes:function(){return e(P())},markAllReadNotes:function(){return e(E())},addNewNote:function(t,n){t&&e(C(t)),n&&n("")},markNote:function(t){return e(y(t))}}},W=function(){var e=function(e){return e.slice(-5).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{duration:h(e.birth)})}))}(Object(d.c)((function(e){return e})).notes),t=D().markNote;return Object(v.jsx)(v.Fragment,{children:e.map((function(e){return Object(v.jsxs)("div",{onClick:function(){return e.read?null:t(e.id)},children:[Object(v.jsx)(x.a,{sx:{p:1},style:{fontWeight:e.read?400:600,cursor:e.read?"default":"pointer"},children:e.text}),Object(v.jsx)("div",{className:"duration",children:e.duration})]},e.id)}))})},z=n(64),A=n.n(z);A.a.locale="ru";var I=function(){var e=D().addNewNote,t=function(){var t=A.a.lorem.sentence();e(t)};Object(r.useEffect)((function(){var e=setInterval(t,1e4);return function(){return clearInterval(e)}}),[])},S=function(e){var t=e.anchorEl,n=e.closePopover;I();var r=Boolean(t),o=r?"simple-popover":void 0,c=m(),i=Object(d.c)((function(e){return e})).notes;return Object(v.jsx)("div",{children:Object(v.jsx)(p.a,{anchorReference:"anchorPosition",id:o,open:r,anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:n,anchorPosition:{top:50,left:c},children:i.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(W,{}),Object(v.jsx)(x.a,{sx:{p:1},style:{fontWeight:600,cursor:"pointer",textDecoration:"underline"},onClick:n,children:"\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435..."})]}):Object(v.jsx)(x.a,{sx:{p:1},variant:"h6",children:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f \u043e\u0442\u0441\u0443\u0441\u0442\u0432\u0443\u044e\u0442"})})})},_=n(1638),T=n(1640),B=n(1648),F=function(e){var t=e.openPopover,n=D(),r=n.deleteAllNotes,o=[{id:1,color:"secondary",onClick:n.markAllReadNotes,text:"\u041f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u043c\u0438"},{id:2,color:"error",onClick:r,text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"},{id:3,color:"warning",onClick:t,text:"\u0421\u043a\u0440\u044b\u0442\u044c/\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043f\u0430\u043f \u043d\u043e\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0439"}];return Object(v.jsx)(_.a,{direction:"column",spacing:1,className:"main_buttons",children:o.map((function(e){return Object(v.jsx)(B.a,{color:e.color,variant:"contained",onClick:e.onClick,children:e.text},e.id)}))})},J=function(e){var t=e.openPopover,n=D().addNewNote,o=Object(r.useState)(""),c=Object(i.a)(o,2),a=c[0],s=c[1];return Object(v.jsxs)("main",{className:"main",children:[Object(v.jsxs)(_.a,{direction:"row",spacing:1,className:"main_input-button",children:[Object(v.jsx)(T.a,{id:"outlined-basic",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f",variant:"outlined",className:"main_input",onChange:function(e){return s(e.target.value)},value:a}),Object(v.jsx)(B.a,{variant:"contained",color:"success",onClick:function(){return n(a,s)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),Object(v.jsx)(F,{openPopover:t})]})};var L=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1],c=function(e){return o(e.currentTarget)};return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(O,{openPopover:c}),Object(v.jsx)(S,{anchorEl:n,closePopover:function(){return o(null)}}),Object(v.jsx)(J,{openPopover:c})]})},q=n(88),G=Object(k.a)({reducer:R,composeWithDevTools:q.composeWithDevTools});n(1600);c.a.render(Object(v.jsx)(d.a,{store:G,children:Object(v.jsx)(L,{})}),document.getElementById("root"))}},[[1601,1,2]]]);
//# sourceMappingURL=main.5bc9fc9a.chunk.js.map